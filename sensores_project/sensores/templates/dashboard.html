{% extends 'base.html' %}

{% block title %}Dashboard de Sensores{% endblock %}

{% block content %}
<h1>Dashboard de Sensores</h1>

<div class="filtro-container">
    <select id="periodo">
        <option value="hoje">Hoje</option>
        <option value="semana">Última Semana</option>
        <option value="mes">Último Mês</option>
    </select>
    <button onclick="filtrarDados()">Filtrar</button>
</div>

<table>
    <tr>
        <th>Data</th>
        <th>Temperatura (°C)</th>
        <th>Umidade (%)</th>
        <th>Luminosidade (lux)</th>
        <th>Qualidade do Ar</th>
        <th>Chuva</th>
    </tr>
    {% for dado in dados %}
    <tr>
        <td>{{ dado.data }}</td>
        <td>{{ dado.temperatura }}</td>
        <td>{{ dado.umidade }}</td>
        <td>{{ dado.luminosidade }}</td>
        <td>{{ dado.qualidade_ar }}</td>
        <td>{{ dado.chuva }}</td>
    </tr>
    {% endfor %}
</table>
{% endblock %}

{% block extra_js %}
<script>
    function filtrarDados() {
        const periodo = document.getElementById('periodo').value;
        window.location.href = `{% url 'dashboard' %}?periodo=${periodo}`;
    }
</script>
{% endblock %}